var tedu={configs:{pageSize:10,pageIndex:1},notify:function(t,e){$.notify(t,{clickToHide:!0,autoHide:!0,autoHideDelay:5e3,arrowShow:!0,arrowSize:5,position:"...",elementPosition:"top right",globalPosition:"top right",style:"bootstrap",className:e,showAnimation:"slideDown",showDuration:400,hideAnimation:"slideUp",hideDuration:200,gap:2})},confirm:function(t,e){bootbox.confirm({message:t,buttons:{confirm:{label:"Confirm",className:"btn-success"},cancel:{label:"Cancel",className:"btn-danger"}},callback:function(t){t===!0&&e()}})},dateFormatJson:function(t){if(null==t||""==t)return"";var e=new Date(parseInt(t.substr(6))),o=e.getMonth()+1,n=e.getDate(),a=e.getFullYear(),i=e.getHours(),r=e.getMinutes();return o<10&&(o="0"+o),n<10&&(n="0"+n),i<10&&(i="0"+i),r<10&&(r="0"+r),n+"/"+o+"/"+a},dateTimeFormatJson:function(t){if(null==t||""==t)return"";var e=new Date(parseInt(t.substr(6))),o=e.getMonth()+1,n=e.getDate(),a=e.getFullYear(),i=e.getHours(),r=e.getMinutes(),s=e.getSeconds();return o<10&&(o="0"+o),n<10&&(n="0"+n),i<10&&(i="0"+i),r<10&&(r="0"+r),s<10&&(s="0"+s),n+"/"+o+"/"+a+" "+i+":"+r+":"+s},startLoading:function(){$(".dv-loading").length>0&&$(".dv-loading").removeClass("hide")},stopLoading:function(){$(".dv-loading").length>0&&$(".dv-loading").addClass("hide")},getStatus:function(t){return 1==t?'<span class="badge bg-green">Kích hoạt</span>':'<span class="badge bg-red">Khoá</span>'},formatNumber:function(t,e){if(!isFinite(t))return t.toString();var o=t.toFixed(e).split(".");return o[0]=o[0].replace(/\d(?=(\d{3})+$)/g,"$&,"),o.join(".")},unflattern:function(t){for(var e={},o=[],n=0;n<t.length;n+=1){var a=t[n];a.children=[],e[a.id]=n,null!==a.parentId?t[e[a.parentId]].children.push(a):o.push(a)}return o}};$(document).ajaxSend(function(t,e,o){if("POST"==o.type.toUpperCase()||"PUT"==o.type.toUpperCase()){var n=$("form").find("input[name='__RequestVerificationToken']").val();e.setRequestHeader("RequestVerificationToken",n)}});var CartController=function(){function t(){$("body").on("click",".btn-delete",function(t){t.preventDefault();var e=$(this).data("id");$.ajax({url:"/Cart/RemoveFromCart",type:"post",data:{productId:e},success:function(){tedu.notify("Removing product is successful.","success"),i(),r()}})}),$("body").on("keyup",".txtQuantity",function(t){t.preventDefault();var e=$(this).data("id"),o=$(this).val();o>0?$.ajax({url:"/Cart/UpdateCart",type:"post",data:{productId:e,quantity:o},success:function(){tedu.notify("Update quantity is successful","success"),i(),r()}}):tedu.notify("Your quantity is invalid","error")}),$("body").on("change",".ddlColorId",function(t){t.preventDefault();var e=parseInt($(this).closest("tr").data("id")),o=$(this).val(),n=$(this).closest("tr").find(".txtQuantity").first().val(),a=$(this).closest("tr").find(".ddlSizeId").first().val();n>0?$.ajax({url:"/Cart/UpdateCart",type:"post",data:{productId:e,quantity:n,color:o,size:a},success:function(){tedu.notify("Update quantity is successful","success"),i(),r()}}):tedu.notify("Your quantity is invalid","error")}),$("body").on("change",".ddlSizeId",function(t){t.preventDefault();var e=parseInt($(this).closest("tr").data("id")),o=$(this).val(),n=parseInt($(this).closest("tr").find(".txtQuantity").first().val()),a=parseInt($(this).closest("tr").find(".ddlColorId").first().val());n>0?$.ajax({url:"/Cart/UpdateCart",type:"post",data:{productId:e,quantity:n,color:a,size:o},success:function(){tedu.notify("Update quantity is successful","success"),i(),r()}}):tedu.notify("Your quantity is invalid","error")}),$("#btnClearAll").on("click",function(t){t.preventDefault(),$.ajax({url:"/Cart/ClearCart",type:"post",success:function(){tedu.notify("Clear cart is successful","success"),i(),r()}})})}function e(){return $.ajax({type:"GET",url:"/Cart/GetColors",dataType:"json",success:function(t){s.colors=t},error:function(){tedu.notify("Has an error in progress","error")}})}function o(){return $.ajax({type:"GET",url:"/Cart/GetSizes",dataType:"json",success:function(t){s.sizes=t},error:function(){tedu.notify("Has an error in progress","error")}})}function n(t){var e="<select class='form-control ddlColorId'><option value='0'></option>";return $.each(s.colors,function(o,n){e+=t===n.Id?'<option value="'+n.Id+'" selected="select">'+n.Name+"</option>":'<option value="'+n.Id+'">'+n.Name+"</option>"}),e+="</select>"}function a(t){var e="<select class='form-control ddlSizeId'> <option value='0'></option>";return $.each(s.sizes,function(o,n){e+=t===n.Id?'<option value="'+n.Id+'" selected="select">'+n.Name+"</option>":'<option value="'+n.Id+'">'+n.Name+"</option>"}),e+="</select>"}function i(){$("#headerCart").load("/AjaxContent/HeaderCart")}function r(){return $.ajax({url:"/Cart/GetCart",type:"GET",dataType:"json",success:function(t){var e=$("#template-cart").html(),o="",i=0;$.each(t,function(t,r){o+=Mustache.render(e,{ProductId:r.Product.Id,ProductName:r.Product.Name,Image:r.Product.Image,Price:tedu.formatNumber(r.Price,0),Quantity:r.Quantity,Colors:n(null==r.Color?0:r.Color.Id),Sizes:a(null==r.Size?"":r.Size.Id),Amount:tedu.formatNumber(r.Price*r.Quantity,0),Url:"/"+r.Product.SeoAlias+"-p."+r.Product.Id+".html"}),i+=r.Price*r.Quantity}),$("#lblTotalAmount").text(tedu.formatNumber(i,0)),""!==o?$("#table-cart-content").html(o):$("#table-cart-content").html("You have no product in cart")}}),!1}var s={colors:[],sizes:[]};this.initialize=function(){$.when(e(),o()).then(function(){r()}),t()}},BaseController=function(){function t(){$("body").on("click",".add-to-cart",function(t){t.preventDefault();var o=$(this).data("id");$.ajax({url:"/Cart/AddToCart",type:"post",data:{productId:o,quantity:1,color:0,size:0},success:function(t){tedu.notify("The product was added to cart","success"),e()}})}),$("body").on("click",".remove-cart",function(t){t.preventDefault();var o=$(this).data("id");$.ajax({url:"/Cart/RemoveFromCart",type:"post",data:{productId:o},success:function(t){tedu.notify("The product was removed","success"),e()}})})}function e(){$("#headerCart").load("/AjaxContent/HeaderCart")}this.initialize=function(){t()}},ContactController=function(){function t(){e()}function e(){var t={lat:parseFloat($("#hidLat").val()),lng:parseFloat($("#hidLng").val())},e=new google.maps.Map(document.getElementById("map"),{zoom:17,center:t}),o=$("#hidAddress").val(),n=new google.maps.InfoWindow({content:o}),a=new google.maps.Marker({position:t,map:e,title:$("#hidName").val()});n.open(e,a)}this.initialize=function(){t()}},ProductDetailController=function(){function t(){$("#btnAddToCart").on("click",function(t){t.preventDefault();var o=parseInt($(this).data("id")),n=parseInt($("#ddlColorId").val()),a=parseInt($("#ddlSizeId").val());$.ajax({url:"/Cart/AddToCart",type:"post",dataType:"json",data:{productId:o,quantity:parseInt($("#txtQuantity").val()),color:n,size:a},success:function(){tedu.notify("Product was added successful","success"),e()}})})}function e(){$("#headerCart").load("/AjaxContent/HeaderCart")}this.initialize=function(){t()}},HomeController=function(){this.initialize=function(){jQuery("#rev_slider_4").show().revolution({dottedOverlay:"none",delay:5e3,startwidth:865,startheight:450,hideThumbs:200,thumbWidth:200,thumbHeight:50,thumbAmount:2,navigationType:"thumb",navigationArrows:"solo",navigationStyle:"round",touchenabled:"on",onHoverStop:"on",swipe_velocity:.7,swipe_min_touches:1,swipe_max_touches:1,drag_block_vertical:!1,spinner:"spinner0",keyboardNavigation:"off",navigationHAlign:"center",navigationVAlign:"bottom",navigationHOffset:0,navigationVOffset:20,soloArrowLeftHalign:"left",soloArrowLeftValign:"center",soloArrowLeftHOffset:20,soloArrowLeftVOffset:0,soloArrowRightHalign:"right",soloArrowRightValign:"center",soloArrowRightHOffset:20,soloArrowRightVOffset:0,shadow:0,fullWidth:"on",fullScreen:"off",stopLoop:"off",stopAfterLoops:-1,stopAtSlide:-1,shuffle:"off",autoHeight:"off",forceFullWidth:"on",fullScreenAlignForce:"off",minFullScreenHeight:0,hideNavDelayOnMobile:1500,hideThumbsOnMobile:"off",hideBulletsOnMobile:"off",hideArrowsOnMobile:"off",hideThumbsUnderResolution:0,hideSliderAtLimit:0,hideCaptionAtLimit:0,hideAllCaptionAtLilmit:0,startWithSlide:0,fullScreenOffsetContainer:""})}};